(this["webpackJsonpdracula-protocol-v2-calculator"]=this["webpackJsonpdracula-protocol-v2-calculator"]||[]).push([[0],{304:function(e,t,a){e.exports=a.p+"static/media/dracula-protocol-logo.f7740153.webp"},326:function(e,t,a){e.exports=a.p+"static/media/dracula-chan.5fa71319.png"},339:function(e,t,a){e.exports=a(586)},346:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},483:function(e,t,a){},584:function(e,t,a){},586:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"daysAmount",(function(){return c})),a.d(n,"ETHStrategyAPY",(function(){return m})),a.d(n,"gasTransactionCost",(function(){return E})),a.d(n,"depositTransactionAmount",(function(){return f})),a.d(n,"rewardClaimTransactionAmount",(function(){return p})),a.d(n,"swapAndStakeTransactionAmount",(function(){return g})),a.d(n,"initialPrincipal",(function(){return y})),a.d(n,"poolAPY",(function(){return T})),a.d(n,"rewardClaimIntervalDays",(function(){return b})),a.d(n,"DRCFee",(function(){return w}));var r=a(0),i=a.n(r),o=a(31),l=a.n(o),s=(a(344),a(345),a(346),a(53)),d=a(599),u=a(588),c=365,m=.08,E=15,f=2,p=1,g=2,y=1e4,T=.26,b=30,w=.15,h=a(136),C=a(39),v=a.n(C);function P(e){var t=e.ETHStrategyAPY,a=e.poolAPY,n=e.DRCFee,r=new v.a(a).dividedBy(365).toNumber();return Object(h.a)(Object(h.a)({},e),{},{compoundInterestPerDay:new v.a(t).dividedBy(365).toNumber(),poolInterestPerDay:r,DRCPoolInterestPerDay:new v.a(r).multipliedBy(1-n).toNumber()})}var N=a(188),A=a(292),I=a.n(A);function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.decimals,n=void 0===a?2:a,r=Object(N.a)(Array(n)).map((function(){return"0"})).join(""),i="$0[.]".concat(r,"a");return I()(e).format(i)}var H=a(595),x=a(111);var k=Object(r.memo)((function(e){var t=function(e){return e.traditional.map((function(t,a){var n=e.drc[a],r=n.profit<t.profit?-1*Math.abs(t.profit-n.profit):Math.abs(t.profit-n.profit);return{day:t.day,traditionalYieldEarned:t.yieldEarned,traditionalTotalYieldEarned:t.totalYieldEarned,traditionalRewardsToClaim:t.rewardsToClaim,traditionalClaimThisDay:t.claimThisDay,traditionalCompoundingETH:t.compoundingETH,traditionalETHInterestEarned:t.ETHInterestEarned,traditionalETHEarnings:t.ETHEarnings,traditionalGassCost:t.gassCost,traditionalTotalGassCost:t.totalGassCost,traditionalProfit:t.profit,drcYieldEarned:n.yieldEarned,drcCompoundingETH:n.compoundingETH,drcETHInterestEarned:n.ETHInterestEarned,drcETHEarnings:n.ETHEarnings,drcGassCost:n.gassCost,drcTotalGassCost:n.totalGassCost,drcProfit:n.profit,profitDifference:r}}))}(e.result),a=[{title:"Day",dataIndex:"day",key:"day",width:75,fixed:!0,sorter:function(e,t){return e.day-t.day}},{key:"traditional",title:i.a.createElement(x.a,{style:{fontWeight:"bold",color:"#00FF00"}},"Traditional Farming Strategy"),children:[{title:"Yield Earned",dataIndex:"traditionalYieldEarned",key:"traditionalYieldEarned",width:150,render:function(e){return D(e)}},{title:"Total Yield Earned",dataIndex:"traditionalTotalYieldEarned",key:"traditionalTotalYieldEarned",width:150,render:function(e){return D(e)}},{title:"Rewards To Claim",dataIndex:"traditionalRewardsToClaim",key:"traditionalRewardsToClaim",width:150,render:function(e){return D(e)}},{title:"Claim This Day",dataIndex:"traditionalClaimThisDay",key:"traditionalClaimThisDay",width:150,render:function(e){return e?"Yes":"No"}},{title:"Compounding ETH",dataIndex:"traditionalCompoundingETH",key:"traditionalCompoundingETH",width:150,render:function(e){return D(e,{decimals:4})}},{title:"ETH Interest Earned",dataIndex:"traditionalETHInterestEarned",key:"traditionalETHInterestEarned",width:150,render:function(e){return D(e,{decimals:4})}},{title:"ETH Earnings",dataIndex:"traditionalETHEarnings",key:"traditionalETHEarnings",width:150,render:function(e){return D(e,{decimals:4})}},{title:"Gass Cost",dataIndex:"traditionalGassCost",key:"traditionalGassCost",width:150,render:function(e){return D(e)}},{title:"Total Gass Cost",dataIndex:"traditionalTotalGassCost",key:"traditionalTotalGassCost",width:150,render:function(e){return D(e)}},{title:"Profit",dataIndex:"traditionalProfit",key:"traditionalProfit",width:150,render:function(e){return D(e)}}]},{key:"drc",title:i.a.createElement(x.a,{style:{fontWeight:"bold",color:"#fe5767"}},"Dracula Protocol Farming Strategy"),children:[{title:"Yield Earned",dataIndex:"drcYieldEarned",key:"drcYieldEarned",width:150,render:function(e){return D(e)}},{title:"Compounding ETH",dataIndex:"drcCompoundingETH",key:"drcCompoundingETH",width:150,render:function(e){return D(e,{decimals:4})}},{title:"ETH Interest Earned",dataIndex:"drcETHInterestEarned",key:"drcETHInterestEarned",width:150,render:function(e){return D(e,{decimals:4})}},{title:"ETH Earnings",dataIndex:"drcETHEarnings",key:"drcETHEarnings",width:150,render:function(e){return D(e,{decimals:4})}},{title:"Gass Cost",dataIndex:"drcGassCost",key:"drcGassCost",width:150,render:function(e){return D(e)}},{title:"Total Gass Cost",dataIndex:"drcTotalGassCost",key:"drcTotalGassCost",width:150,render:function(e){return D(e)}},{title:"Profit",dataIndex:"drcProfit",key:"drcProfit",width:150,render:function(e){return D(e)}}]},{key:"comparison",title:i.a.createElement(x.a,{style:{fontWeight:"bold"}},"Comparison"),children:[{title:"Profit Difference",dataIndex:"profitDifference",key:"profitDifference",width:150,render:function(e){return D(e)}}]}];return i.a.createElement(H.a,{columns:a,dataSource:t,scroll:{x:"100%",y:300},pagination:{defaultPageSize:365}})}));a(460);function B(e){var t=e.children;return i.a.createElement("div",{className:"page-window"},t)}var G=a(598),Y=a(587),S=a(87),q=a(304),j=a.n(q);function R(e){var t=e.size,a=void 0===t?50:t;return i.a.createElement("img",{src:j.a,alt:"Dracula Protocol Logo",style:{width:a,height:a}})}a(461);var F=G.a.Title;function O(){return i.a.createElement("div",{className:"header"},i.a.createElement(Y.a,{align:"middle"},i.a.createElement(R,null),i.a.createElement(u.a,{type:"vertical"}),i.a.createElement(F,{style:{margin:0}},"Dracula Protocol V2 - Calculator")),i.a.createElement(S.a,{type:"primary",href:"https://v2.dracula.sucks/",target:"_blank"},"Visit App"))}var V=a(596),K=a(590),L=a(591),z=a(331),U=a(321),W=a(322),J=a(162),M=a(159);var $=a(589);function _(e){var t=e.active,a=e.payload,n=e.label;if(t&&a&&a.length){var r,o,l=null===(r=a.find((function(e){return"traditionalProfit"===e.dataKey})))||void 0===r?void 0:r.value,s=null===(o=a.find((function(e){return"drcProfit"===e.dataKey})))||void 0===o?void 0:o.value;return i.a.createElement("div",{className:"line-chart-custom-tooltip"},i.a.createElement(Y.a,{gutter:[8,4]},i.a.createElement($.a,{span:12,style:{textAlign:"right"}},"Day:"),i.a.createElement($.a,{span:12},n),i.a.createElement($.a,{span:12,style:{textAlign:"right"}},"Traditional Profit:"),i.a.createElement($.a,{span:12},D(l)),i.a.createElement($.a,{span:12,style:{textAlign:"right"}},"DRC Profit:"),i.a.createElement($.a,{span:12},D(s))))}return null}a(483);var Q=Object(r.memo)((function(e){var t=function(e){return[{day:0,traditionalProfit:0,drcProfit:0}].concat(Object(N.a)(e.traditional.map((function(t,a){return{day:t.day,traditionalProfit:t.profit,drcProfit:e.drc[a].profit}}))))}(e.result);return i.a.createElement(K.a,{width:"100%",height:500},i.a.createElement(L.a,{className:"line-chart",data:t},i.a.createElement(z.a,{dataKey:"traditionalProfit",type:"monotone",stroke:"#00FF00",dot:!1}),i.a.createElement(z.a,{type:"monotone",dataKey:"drcProfit",stroke:"#fe5767",dot:!1}),i.a.createElement(U.a,{dataKey:"day",height:50,minTickGap:25,label:{value:"Days",position:"insideBottom"}}),i.a.createElement(W.a,{width:100,label:{value:"Profit",angle:-90,position:"insideLeft"},tickFormatter:function(e){return D(e,{decimals:2})}}),i.a.createElement(J.a,{content:function(e){return i.a.createElement(_,e)}}),i.a.createElement(M.a,{verticalAlign:"top",height:36,formatter:function(e){return"traditionalProfit"===e?"Traditional Farming Profit":"Dracula Protocol Profit"}})))})),X=V.a.TabPane;function Z(e){var t=e.result;return i.a.createElement(V.a,{defaultActiveKey:"1"},i.a.createElement(X,{tab:"Line Chart",key:"1"},i.a.createElement(Q,{result:t})),i.a.createElement(X,{tab:"Heatmap",key:"2"},"Coming soon!"))}var ee=a(597),te=a(602),ae=a(231),ne=a.n(ae),re=a(190),ie=a(185),oe=a(601);function le(e){var t=e.onChange,a=e.value,n=e.allowNegative,r=void 0===n||n,o=Object(re.a)(e,["onChange","value","allowNegative"]),l=null!=a?new v.a(a).multipliedBy(100).toNumber():"";return i.a.createElement(ie.a,Object.assign({},o,{value:l,onValueChange:function(e){if(t){var a=e.floatValue;if(void 0!==a){var n=new v.a(a).dividedBy(100).toNumber();t(n)}else t(null)}},suffix:"%",customInput:oe.a,allowNegative:r}))}function se(e){var t=e.onChange,a=e.currencySymbol,n=void 0===a?"$":a,r=e.allowNegative,o=void 0===r||r,l=Object(re.a)(e,["onChange","currencySymbol","allowNegative"]);return i.a.createElement(ie.a,Object.assign({},l,{onValueChange:function(e){if(t){var a=e.floatValue;t(void 0===a?null:a)}},prefix:n,customInput:oe.a,allowNegative:o,thousandSeparator:!0}))}var de=a(326),ue=a.n(de),ce=ee.a.Item,me=G.a.Text,Ee=V.a.TabPane;function fe(e){var t=e.assumptions,a=e.onChangeAssumptions,n=Object(r.useState)(!1),o=Object(s.a)(n,2),l=o[0],d=o[1];return i.a.createElement(Y.a,{align:"bottom"},i.a.createElement($.a,{xs:24,sm:16},i.a.createElement(ee.a,{labelCol:{span:12},wrapperCol:{span:12},onFinish:function(e){d(!1),a(Object(h.a)(Object(h.a)({},t),e))},onFieldsChange:function(){return d(!0)},scrollToFirstError:!0,initialValues:t},i.a.createElement(V.a,{defaultActiveKey:"1"},i.a.createElement(Ee,{tab:"Basic",key:"1"},i.a.createElement(Y.a,null,i.a.createElement($.a,{xs:24,sm:{span:12,offset:12}},i.a.createElement(ne.a,{level:3},"Basic Assumptions"))),i.a.createElement(ce,{name:"initialPrincipal",label:i.a.createElement(me,{strong:!0},"Initial Principal"),extra:"The total value of LP tokens in USD.",rules:[{required:!0,message:"Initial Principal is required!"}]},i.a.createElement(se,null)),i.a.createElement(ce,{name:"poolAPY",label:i.a.createElement(me,{strong:!0},"Victim Pool APY"),extra:"The annual percentage yield of the pool.",rules:[{required:!0,message:"Victim Pool APY is required!"}]},i.a.createElement(le,null)),i.a.createElement(ce,{name:"ETHStrategyAPY",label:i.a.createElement(me,{strong:!0},"Compound Strategy APY"),extra:"The annual percentage yield of the reward compound strategy.",rules:[{required:!0,message:"Compound Strategy APY is required!"}]},i.a.createElement(le,null)),i.a.createElement(ce,{name:"rewardClaimIntervalDays",label:i.a.createElement(me,{strong:!0},"Reward Claim Interval"),extra:"Amount of days between reward claims for traditional farming strategy. Set to zero (0) to never claim rewards.",rules:[{required:!0,message:"Reward Claim Interval is required!"}]},i.a.createElement(te.a,{min:0,style:{width:"100%"}})),i.a.createElement(ce,{name:"gasTransactionCost",label:i.a.createElement(me,{strong:!0},"Gass Transaction Cost"),extra:"Average cost of a single transaction in USD.",rules:[{required:!0,message:"Gass Transaction Cost is required!"}]},i.a.createElement(se,null)),i.a.createElement(ce,{name:"daysAmount",label:i.a.createElement(me,{strong:!0},"Amount of Days"),extra:"The timeframe of the analysis in days.",rules:[{required:!0,message:"Amount of Days is required!"}]},i.a.createElement(te.a,{min:0,max:3650,style:{width:"100%"}}))),i.a.createElement(Ee,{tab:"Advanced",key:"2"},i.a.createElement(Y.a,null,i.a.createElement($.a,{xs:24,sm:{span:12,offset:12}},i.a.createElement(ne.a,{level:3},"Advanced Assumptions"))),i.a.createElement(ce,{label:i.a.createElement(me,{strong:!0},"Deposit Transaction Amount"),required:!0,name:"depositTransactionAmount",extra:"The amount of transactions for a deposit of tokens into victim pool or DRC. Considers the approval transaction.",rules:[{required:!0,message:"Deposit Transaction Amount is required!"}]},i.a.createElement(te.a,{min:0,style:{width:"100%"}})),i.a.createElement(ce,{label:i.a.createElement(me,{strong:!0},"Reward Claim Transaction Amount"),name:"rewardClaimTransactionAmount",extra:" The amount of transactions for a claim of reward. For reward from victim pool or DRC (ETH/DRC).",rules:[{required:!0,message:"Reward Claim Transaction Amount is required!"}]},i.a.createElement(te.a,{min:0,style:{width:"100%"}})),i.a.createElement(ce,{label:i.a.createElement(me,{strong:!0},"Swap and Stake Transaction Amount"),name:"swapAndStakeTransactionAmount",rules:[{required:!0,message:"Swap and Stake Transaction Amount is required!"}],extra:"The amount of transactions for selling the victim token for ETH and deposit into compounding strategy."},i.a.createElement(te.a,{min:1,style:{width:"100%"}})),i.a.createElement(ce,{label:i.a.createElement(me,{strong:!0},"Dracula Protocol Fee"),name:"DRCFee",rules:[{required:!0,message:"Dracula Protocol Fee is required!"}],extra:"The protocol performance fee on the yield earned. This is fixed but could be adjusted with community vote."},i.a.createElement(le,null)))),i.a.createElement(ce,{wrapperCol:{xs:{span:24},sm:{span:12,offset:12}}},i.a.createElement(S.a,{type:"primary",htmlType:"submit",disabled:!l},"Submit")))),i.a.createElement($.a,{xs:0,sm:8},i.a.createElement("img",{src:ue.a,alt:"Dracula Chan",style:{marginBottom:-20}})))}function pe(e){var t=e.initialPrincipal,a=e.DRCPoolInterestPerDay,n=e.compoundInterestPerDay,r=e.gasTransactionCost,i=e.depositTransactionAmount,o=e.rewardClaimTransactionAmount,l=new C.BigNumber(a).times(t).toNumber(),s=l,d=new C.BigNumber(s).times(n).toNumber(),u=new C.BigNumber(s).plus(d).toNumber(),c=new C.BigNumber(r).times(i+i+o).toNumber(),m=c;return{day:1,yieldEarned:l,compoundingETH:s,ETHInterestEarned:d,ETHEarnings:u,gassCost:c,totalGassCost:m,profit:new C.BigNumber(u).minus(m).toNumber()}}function ge(e,t){var a=e.initialPrincipal,n=e.DRCPoolInterestPerDay,r=e.compoundInterestPerDay,i=t.day+1,o=new C.BigNumber(n).times(a).toNumber(),l=new C.BigNumber(o).plus(t.ETHEarnings).toNumber(),s=new C.BigNumber(l).times(r).toNumber(),d=new C.BigNumber(l).plus(s).toNumber(),u=new C.BigNumber(t.totalGassCost).plus(0).toNumber();return{day:i,yieldEarned:o,compoundingETH:l,ETHInterestEarned:s,ETHEarnings:d,gassCost:0,totalGassCost:u,profit:new C.BigNumber(d).minus(u).toNumber()}}function ye(e){for(var t=[],a=0;a<e.daysAmount;a++){var n=1===a+1?pe(e):ge(e,t[a-1]);t.push(n)}return t}function Te(e,t){return t>0&&e%t===0}function be(e){var t=e.initialPrincipal,a=e.poolInterestPerDay,n=e.rewardClaimIntervalDays,r=e.compoundInterestPerDay,i=e.gasTransactionCost,o=e.depositTransactionAmount,l=e.rewardClaimTransactionAmount,s=e.swapAndStakeTransactionAmount,d=new C.BigNumber(a).times(t).toNumber(),u=Te(1,n),c=u?d:0,m=new C.BigNumber(c).times(r).toNumber(),E=new C.BigNumber(c).plus(m).toNumber(),f=u?new C.BigNumber(i).times(o+l+l+s).toNumber():new C.BigNumber(i).times(o+l).toNumber();return{day:1,yieldEarned:d,totalYieldEarned:d,rewardsToClaim:d,claimThisDay:u,compoundingETH:c,ETHInterestEarned:m,ETHEarnings:E,gassCost:f,totalGassCost:f,profit:(u?E:d)-f}}function we(e,t){var a=e.initialPrincipal,n=e.poolInterestPerDay,r=e.rewardClaimIntervalDays,i=e.compoundInterestPerDay,o=e.gasTransactionCost,l=e.rewardClaimTransactionAmount,s=e.swapAndStakeTransactionAmount,d=t.day+1,u=new C.BigNumber(n).times(a).toNumber(),c=new C.BigNumber(t.totalYieldEarned).plus(u).toNumber(),m=t.claimThisDay?u:new C.BigNumber(u).plus(t.rewardsToClaim).toNumber(),E=Te(d,r),f=E?new C.BigNumber(m).plus(t.ETHEarnings).toNumber():t.ETHEarnings,p=new C.BigNumber(f).times(i).toNumber(),g=new C.BigNumber(f).plus(p).toNumber(),y=E?new C.BigNumber(o).times(l+s).toNumber():0,T=y+t.totalGassCost,b=E?g:new C.BigNumber(m).plus(g).toNumber();return{day:d,yieldEarned:u,totalYieldEarned:c,rewardsToClaim:m,claimThisDay:E,compoundingETH:f,ETHInterestEarned:p,ETHEarnings:g,gassCost:y,totalGassCost:T,profit:new C.BigNumber(b).minus(T).toNumber()}}function he(e){for(var t=[],a=0;a<e.daysAmount;a++){var n=1===a+1?be(e):we(e,t[a-1]);t.push(n)}return t}a(584);var Ce=G.a.Text;function ve(){return i.a.createElement("footer",null,i.a.createElement(Ce,{type:"warning"},i.a.createElement("span",{role:"img","aria-label":"bat"},"\ud83e\udd87")," ","This is a community contribution. Use at your own discretion!"," ",i.a.createElement("span",{role:"img","aria-label":"bat"},"\ud83e\udd87")))}var Pe=d.a.Panel;var Ne=function(){var e=Object(r.useState)(P(n)),t=Object(s.a)(e,2),a=t[0],o=t[1],l=function(e){return{traditional:he(e),drc:ye(e)}}(a);return i.a.createElement(B,null,i.a.createElement(O,null),i.a.createElement(Z,{result:l}),i.a.createElement(u.a,null),i.a.createElement(d.a,{defaultActiveKey:["1"]},i.a.createElement(Pe,{header:"Assumptions",key:"1"},i.a.createElement(fe,{assumptions:a,onChangeAssumptions:function(e){var t=P(e);o(t)}})),i.a.createElement(Pe,{header:"Data",key:"2"},i.a.createElement(k,{result:l}))),i.a.createElement(ve,null))};l.a.render(i.a.createElement(Ne,null),document.getElementById("root"))}},[[339,1,2]]]);
//# sourceMappingURL=main.69eb98b0.chunk.js.map